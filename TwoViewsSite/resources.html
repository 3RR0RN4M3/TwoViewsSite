<!DOCTYPE html>
<html lang="en">

<script>
    function submitForm(event) {
        event.preventDefault();

        var requestForm = document.forms['requestForm'];
        //check and perform action based on the state of the checkbox
        //is checked
        if (requestForm['checkBox'].checked == true) {
            //disable form
            document.getElementById("disclaimer").style.display = "none";
            document.getElementById("rFormBox").style.display = "none";
            //enable resources
            document.getElementById("thankS").style.display = "block";
            document.getElementById("links").style.display = "block";
        }
        // is not checked and entered email
        else if (requestForm['checkBox'].checked == false && requestForm['email'].value.length > 0) {
            alert('You entered an email but haven\'t checked the checkbox for recieving game updates! ')

            return false;
        }
        // is not checked
        else {
            //disable form
            document.getElementById("disclaimer").style.display = "none";
            document.getElementById("rFormBox").style.display = "none";
            //enable resources
            document.getElementById("thank").style.display = "block";
            document.getElementById("links").style.display = "block";
        }

        // alert("SubmitForm"); //debug
        return false;
    }

    function startForm() {
        //add listener for submitting the form and call submitForm()
        const form = document.getElementById("rForm");
        form.addEventListener('submit', submitForm);

        //disable resources
        document.getElementById("thank").style.display = "none";
        document.getElementById("thankS").style.display = "none";
        document.getElementById("links").style.display = "none";

        var requestForm = document.forms['requestForm'];
        //disable checkbox
        requestForm['checkBox'].disabled = true;

    }

    function toggleCheckBox() {
        var requestForm = document.forms['requestForm'];

        //enable checkbox is user input email, else uncheck and disable it
        var email = requestForm.elements['email'];
        var checkbox = requestForm.elements['checkBox'];
        
        if (email.value.trim() !== "") {
            checkbox.disabled = false;
        } else {
            checkbox.checked = false;
            checkbox.disabled = true;
        }

        // alert("ToggleCheckBox"); //debug
    }

    function preventReload(event) {

    }

</script>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Two Views Website</title>

    <link rel="stylesheet" href="style.css" />

</head>

<body onload="startForm();">
    <header>
        <table width="100%" height="100%">
            <tr>
                <td width="20%">
                    <h1>TwoViews</h1>
                </td>
                <td width="80%">
                    <nav class="navbar">
                        <ul>
                            <li><a href="resources.html">Links and Downloads</a></li>
                            <li><a href="instruction.html">How to Play</a></li>
                            <li><a href="index.html">Home</a></li>
                        </ul>
                    </nav>

                    <!-- dropdown navbar -->
                    <div class="dropdownNav">
                        <div class="dropdown">
                            <button>
                                <img src="Image/Down Arrow.png" alt="logo" height="40px">
                            </button>
                            <div class=" content">
                                <a href="index.html">Home</a>
                                <a href="instruction.html">Instruction</a>
                                <a href="resources.html">Resources</a>
                            </div>
                        </div>
                    </div>

                </td>
            </tr>
        </table>
    </header>

    <main class="fadeInElement">
        <section class="lightGrey" id="disclaimer">
            <!-- <h2>The resources page</h2> -->
            <div>
                <h3>Before Accessing</h3>
                <p>
                    Please first fill in a request form for us, by submitting your name or nickname and leave a comment
                    about the purpose of accessing our game, for we are doing an reserch on the topic. It is optional to
                    fill in the email only if you wish to recieve news about game updates.
                </p>
            </div>
            </div>
        </section>


        <section class="grey" id="rFormBox">
            <div class="shorten container">
                <h2>Submit a form here</h2>

                <!-- form start here -->
                <form name="requestForm" id="rForm" method="POST" enctype="multipart/form-data">

                    <div class="twoColumn">
                        <div class="child">
                            <!-- Name here -->
                            Name* : <br>
                            <!-- add constraint of name (required, start with capital, follow by 0-15 small, follow by ' ' repeat) -->
                            <input type="text" name="logincode" required pattern="[A-Z]+[a-z]{0,15}[ ][A-Z]+[a-z]{0,15}"
                                title="First name start with capital letter and a space then the last name"
                                placeholder="John Smith" /><br><br>
                        </div>

                        <div class="child">
                            <!-- email here -->
                            Email : <br>
                            <!-- add constraint of email (letters, numbers and underscore and email format) -->
                            <!-- call toggleCheckBox() if player input a character -->
                            <input type="email" name="email" pattern="[a-zA-Z0-9_]+@[a-zA-Z0-9]+\.[a-z]{2,}"
                                title="Only letters, numbers and underscore" placeholder="JohnSmith2024@gmail.com"
                                onchange="toggleCheckBox();" /><br><br>
                        </div>
                    </div>

                    <div>
                        <!-- text box here -->
                        Comments* :<br>
                        <!-- add constraint of text box (requied, at least 10 character) -->
                        <textarea name="words" maxlength="1500" rows="10" cols="200" required minlength="10"
                            placeholder="In less than 200 words..."></textarea><br>
                    </div>

                    <label class="customCheckbox">
                        <!-- checkbox here -->
                        <input type="checkbox" name="checkBox" id="cBox" value="R" />
                        <div class="cBoxTxt">Recieve game updates</div>
                        <span></span>
                    </label><br><br><br><br>

                    <!-- submit here -->
                    <input type="submit" value="Submit Form" />
                    <!-- reset here -->
                    <input type="reset" value="Reset Form" />
                </form>
            </div>
        </section>

        <section class="lightGrey" id="thank">
            <!-- <h2>The resources page</h2> -->
            <div>
                <h3>Thank You</h3>
                <p>
                    We appreciate you for leaving a valuable feedback, we wish you will have a great
                    time playing our game!
                </p>
            </div>
        </section>

        <section class="lightGrey" id="thankS">
            <!-- <h2>The resources page</h2> -->
            <div>
                <h3>Thank You</h3>
                <p>
                    We appreciate you for leaving a valuable feedback and subscribing to the update for our game. If our
                    game have further updates in the future, we will notice you via email, we wish you will have a great
                    time playing our game!
                </p>
            </div>
        </section>

        <section class="grey" id="links">
            <h2>Resources</h2>
            <div>
                <a href="https://github.com/3RR0RN4M3/TwoViewsBuilds"
                    title="https://github.com/3RR0RN4M3/TwoViewsBuilds">
                    <h3>Link to GitHub</h3>
                </a>
            </div>
            <div>
                <a href="https://docs.google.com/forms/d/e/1FAIpQLSdmZ88tqmXaIkGk1F_h2duSRZRBRxrBvkUwUyMtrCFHmdUnKw/viewform?usp=sf_link"
                    title="https://docs.google.com/forms/d/e/1FAIpQLSdmZ88tqmXaIkGk1F_h2duSRZRBRxrBvkUwUyMtrCFHmdUnKw/viewform?usp=sf_link">
                    <h3>Link to ReviewForm</h3>
                </a>
            </div>

        </section>
    </main>

    <footer>
        <h4>Thank you for visiting our website!</h4>
    </footer>

</body>

</html>